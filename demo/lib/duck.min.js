(function(d){d([],function(){function b(){this.promises=[];this._promises=[];this._then=function(){}}b.prototype.addPromise=function(b){this.promises.push(b);this._promises.push(b)};b.prototype.resolve=function(b,d){for(var f=this.promises,c=0,g=f.length;c<g;c++)if(f[c]===b){f.splice(c,1);break}d&&(this._promises[d]=b);if(!this.promises.length)this._then.apply(null,[this._promises]),this._promises=[]};b.prototype.then=function(b){this._then=b};return b})})(typeof define!="undefined"?define:typeof module!=
"undefined"?function(d,b){module.exports=b()}:function(d,b){this.Future=b()});(function(d){d(["./future",""],function(b){var b=b||window.Future,d="MozAppearance"in document.documentElement.style,l="webkitAppearance"in document.documentElement.style,f=function(c,b,a){if(c)if(c.resolve)c.resolve(b,a);else if(typeof c==="function")c.call(null,b);else if(c.innerHTML)c.innerHTML=b.responseText};return{load:function(c){var g=new b,a=["css","content","script"],d,e,f=a.length,k,i,j;for(d=0;d<f;d++)if(e=a[d],i=c[e])if(j="load"+e.charAt(0).toUpperCase()+e.slice(1),typeof i==="string")g.addPromise(this[j].call(this,
i,g));else if(i.length)for(e=0,k=i.length;e<k;e++)g.addPromise(this[j].call(this,i[e],g));g.then(function(a){if(a.content&&c.contentAppend)c.contentAppend.innerHTML=a.content.responseText;c.callback&&c.callback.apply(null,[c,a])})},loadContent:function(c,b){var a=new XMLHttpRequest;a.onreadystatechange=function(){this.readyState===4&&(this.status>=200&&this.status<300||this.status===304)&&f(b,this,"content")};a.open("GET",c,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.send();return a},
loadCss:function(b,g){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href=b;if(!l&&!d)a.onload=function(){f(g,a)};else{var h=false,e=function(a){window.setTimeout(function(){if(!h)try{a.sheet.cssRules.length?(h=true,f(g,a)):e(a)}catch(b){b.code===1E3||b.message==="security"||b.message==="denied"?(h=true,f(g,a)):e(a)}},0)};e(a)}document.getElementsByTagName("head")[0].appendChild(a);return a},loadScript:function(b,d){var a=document.createElement("script");a.type="text/javascript";
a.async=true;a.src=b.match(/\.js$/)?b:b+".js";a.onreadystatechange=a.onload=function(){if(!a.readyState||a.readyState==="loaded"||a.readyState==="complete")f(d,a),a.onload=a.onreadystatechange=null};var h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(a,h);return a}}})})(typeof define!="undefined"?define:function(d,b){this.Duck=b()});
